###############################################################################
# Scenario: L_DD_MMC_0002_0001
# Author  : Misael Lopez Cruz
# Date    : September 20, 2006
###############################################################################

# Begin L_DD_MMC_0002_0001

# Clean up
01  set -x; rm -rf $MMC_MOUNT_POINT_1 $MMC_MOUNT_POINT_2; exit 0
02  set -x; mkdir -p $MMC_MOUNT_POINT_1 && mkdir -p $MMC_MOUNT_POINT_2; exit 0

# Creating, verifying and printing partition
03  set -x; $TESTSCRIPT/umount_partitions.sh $DEFAULT_MOUNT_POINT && exit 0 || exit 1
04  set -x; echo -e "n\n p\n 1\n $MMC_DEVICE_SECTOR_START\n $MMC_DEVICE_SECTOR_END\n w\n" | fdisk $MMC_ROOT_ENTRY && exit 0 || exit 1
05  set -x; cat $PROCFS_PARTITIONS | grep $MMC_PARTITION_NAME1 && exit 0 || exit 1
06  set -x; $TESTSCRIPT/umount_partitions.sh $DEFAULT_MOUNT_POINT && exit 0 || exit 1
07  set -x; echo -e "p\n w\n" | fdisk $MMC_ROOT_ENTRY && exit 0 || exit 1

# Removing partition
08  set -x; $TESTSCRIPT/umount_partitions.sh $DEFAULT_MOUNT_POINT && exit 0 || exit 1
09  set -x; echo -e "d\n w\n" | fdisk $MMC_ROOT_ENTRY && exit 0 || exit 1

# Verifying partition
10  set -x; cat $PROCFS_PARTITIONS | grep $MMC_PARTITION_NAME1 && exit 1 || exit 0

# End L_DD_MMC_0002_0001
